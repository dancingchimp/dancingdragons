{"ast":null,"code":"// src/hooks/useUtils.js\nimport{useState,useEffect}from'react';export function useScrollPosition(){const[scrollPosition,setScrollPosition]=useState(0);useEffect(()=>{let ticking=false;const handleScroll=()=>{if(!ticking){window.requestAnimationFrame(()=>{setScrollPosition(window.scrollY);ticking=false;});ticking=true;}};window.addEventListener('scroll',handleScroll);return()=>window.removeEventListener('scroll',handleScroll);},[]);return scrollPosition;}export function useWindowSize(){const[windowSize,setWindowSize]=useState({width:window.innerWidth,height:window.innerHeight});useEffect(()=>{let timeoutId=null;const handleResize=()=>{clearTimeout(timeoutId);timeoutId=setTimeout(()=>{setWindowSize({width:window.innerWidth,height:window.innerHeight});},150);};window.addEventListener('resize',handleResize);return()=>{window.removeEventListener('resize',handleResize);clearTimeout(timeoutId);};},[]);return windowSize;}export function useMediaQuery(query){const[matches,setMatches]=useState(()=>window.matchMedia(query).matches);useEffect(()=>{const mediaQuery=window.matchMedia(query);const handler=event=>setMatches(event.matches);// Modern browsers\nif(mediaQuery.addEventListener){mediaQuery.addEventListener('change',handler);return()=>mediaQuery.removeEventListener('change',handler);}// Fallback for older browsers\nelse{mediaQuery.addListener(handler);return()=>mediaQuery.removeListener(handler);}},[query]);return matches;}export function useClickOutside(ref,handler){useEffect(()=>{const listener=event=>{if(!ref.current||ref.current.contains(event.target)){return;}handler(event);};document.addEventListener('mousedown',listener);document.addEventListener('touchstart',listener);return()=>{document.removeEventListener('mousedown',listener);document.removeEventListener('touchstart',listener);};},[ref,handler]);}export function useDebounce(value,delay){const[debouncedValue,setDebouncedValue]=useState(value);useEffect(()=>{const handler=setTimeout(()=>{setDebouncedValue(value);},delay);return()=>{clearTimeout(handler);};},[value,delay]);return debouncedValue;}export function useMounted(){const[mounted,setMounted]=useState(false);useEffect(()=>{setMounted(true);return()=>setMounted(false);},[]);return mounted;}export function useLocalStorage(key,initialValue){const[storedValue,setStoredValue]=useState(()=>{try{const item=window.localStorage.getItem(key);return item?JSON.parse(item):initialValue;}catch(error){console.error(error);return initialValue;}});const setValue=value=>{try{const valueToStore=value instanceof Function?value(storedValue):value;setStoredValue(valueToStore);window.localStorage.setItem(key,JSON.stringify(valueToStore));}catch(error){console.error(error);}};return[storedValue,setValue];}export function useSessionStorage(key,initialValue){const[storedValue,setStoredValue]=useState(()=>{try{const item=window.sessionStorage.getItem(key);return item?JSON.parse(item):initialValue;}catch(error){console.error(error);return initialValue;}});const setValue=value=>{try{const valueToStore=value instanceof Function?value(storedValue):value;setStoredValue(valueToStore);window.sessionStorage.setItem(key,JSON.stringify(valueToStore));}catch(error){console.error(error);}};return[storedValue,setValue];}export function useKeyboardShortcuts(shortcuts){useEffect(()=>{const handler=event=>{for(const[key,callback]of Object.entries(shortcuts)){if(event.key===key){callback(event);}}};window.addEventListener('keydown',handler);return()=>window.removeEventListener('keydown',handler);},[shortcuts]);}","map":{"version":3,"names":["useState","useEffect","useScrollPosition","scrollPosition","setScrollPosition","ticking","handleScroll","window","requestAnimationFrame","scrollY","addEventListener","removeEventListener","useWindowSize","windowSize","setWindowSize","width","innerWidth","height","innerHeight","timeoutId","handleResize","clearTimeout","setTimeout","useMediaQuery","query","matches","setMatches","matchMedia","mediaQuery","handler","event","addListener","removeListener","useClickOutside","ref","listener","current","contains","target","document","useDebounce","value","delay","debouncedValue","setDebouncedValue","useMounted","mounted","setMounted","useLocalStorage","key","initialValue","storedValue","setStoredValue","item","localStorage","getItem","JSON","parse","error","console","setValue","valueToStore","Function","setItem","stringify","useSessionStorage","sessionStorage","useKeyboardShortcuts","shortcuts","callback","Object","entries"],"sources":["/home/elysia/dancingdragons/src/hooks/useUtils.js"],"sourcesContent":["// src/hooks/useUtils.js\n\nimport { useState, useEffect } from 'react';\n\nexport function useScrollPosition() {\n  const [scrollPosition, setScrollPosition] = useState(0);\n  \n  useEffect(() => {\n    let ticking = false;\n    \n    const handleScroll = () => {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          setScrollPosition(window.scrollY);\n          ticking = false;\n        });\n        ticking = true;\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  return scrollPosition;\n}\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight,\n  });\n\n  useEffect(() => {\n    let timeoutId = null;\n    \n    const handleResize = () => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }, 150);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      clearTimeout(timeoutId);\n    };\n  }, []);\n\n  return windowSize;\n}\n\nexport function useMediaQuery(query) {\n  const [matches, setMatches] = useState(() => \n    window.matchMedia(query).matches\n  );\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    const handler = (event) => setMatches(event.matches);\n\n    // Modern browsers\n    if (mediaQuery.addEventListener) {\n      mediaQuery.addEventListener('change', handler);\n      return () => mediaQuery.removeEventListener('change', handler);\n    } \n    // Fallback for older browsers\n    else {\n      mediaQuery.addListener(handler);\n      return () => mediaQuery.removeListener(handler);\n    }\n  }, [query]);\n\n  return matches;\n}\n\nexport function useClickOutside(ref, handler) {\n  useEffect(() => {\n    const listener = (event) => {\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n}\n\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport function useMounted() {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    return () => setMounted(false);\n  }, []);\n\n  return mounted;\n}\n\nexport function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport function useSessionStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.sessionStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.sessionStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport function useKeyboardShortcuts(shortcuts) {\n  useEffect(() => {\n    const handler = (event) => {\n      for (const [key, callback] of Object.entries(shortcuts)) {\n        if (event.key === key) {\n          callback(event);\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handler);\n    return () => window.removeEventListener('keydown', handler);\n  }, [shortcuts]);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}