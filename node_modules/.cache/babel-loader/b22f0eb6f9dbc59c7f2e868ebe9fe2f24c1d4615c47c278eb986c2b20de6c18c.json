{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import App from'./App';import{AppProvider}from'./context/AppContext';import'./styles/index.css';// Error boundary component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ErrorBoundary extends React.Component{constructor(props){super(props);this.state={hasError:false,error:null,errorInfo:null};}static getDerivedStateFromError(error){return{hasError:true,error};}componentDidCatch(error,errorInfo){console.error('App Error:',error,errorInfo);this.setState({errorInfo});}render(){if(this.state.hasError){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-900 flex items-center justify-center text-white p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg w-full bg-gray-800 rounded-lg p-8 shadow-xl\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold mb-4 text-orange-500\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle mr-2\"}),\"Something went wrong\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"We're sorry - something's gone wrong with the Dancing Dragons app.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 p-4 rounded mb-4 overflow-auto max-h-48\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-300 font-mono\",children:this.state.error&&this.state.error.toString()})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full transition-all\",children:\"Reload Page\"})]})});}return this.props.children;}}// Performance monitoring\nconst reportWebVitals=onPerfEntry=>{if(onPerfEntry&&onPerfEntry instanceof Function){import('web-vitals').then(_ref=>{let{getCLS,getFID,getFCP,getLCP,getTTFB}=_ref;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};// Initialize the app\nconst container=document.getElementById('root');const root=ReactDOM.createRoot(container);// Strict mode helps with development-only checks\nroot.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(AppProvider,{children:/*#__PURE__*/_jsx(App,{})})})}));// Monitor performance if enabled in environment settings\nif(process.env.REACT_APP_PERFORMANCE_MONITORING==='true'){reportWebVitals(console.log);}// Handle unhandled promise rejections globally\nwindow.addEventListener('unhandledrejection',event=>{console.error('Unhandled Promise Rejection:',event.reason);});// Remove loading indicator once app is rendered\nconst loadingElement=document.querySelector('.loading');if(loadingElement){// Fade out and remove\nloadingElement.style.transition='opacity 0.5s ease';loadingElement.style.opacity='0';setTimeout(()=>{loadingElement.remove();},500);}// Register service worker for PWA support in production\nif(process.env.NODE_ENV==='production'&&process.env.REACT_APP_ENABLE_PWA==='true'){if('serviceWorker'in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('/dancingdragons/service-worker.js').then(registration=>{console.log('ServiceWorker registered successfully:',registration.scope);}).catch(error=>{console.error('ServiceWorker registration failed:',error);});});}}","map":{"version":3,"names":["React","ReactDOM","App","AppProvider","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","Component","constructor","props","state","hasError","error","errorInfo","getDerivedStateFromError","componentDidCatch","console","setState","render","className","children","toString","onClick","window","location","reload","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","container","document","getElementById","root","createRoot","StrictMode","process","env","REACT_APP_PERFORMANCE_MONITORING","log","addEventListener","event","reason","loadingElement","querySelector","style","transition","opacity","setTimeout","remove","NODE_ENV","REACT_APP_ENABLE_PWA","navigator","serviceWorker","register","registration","scope","catch"],"sources":["/home/elysia/dancingdragons/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport { AppProvider } from './context/AppContext';\nimport './styles/index.css';\n\n// Error boundary component\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('App Error:', error, errorInfo);\n    this.setState({ errorInfo });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"min-h-screen bg-gray-900 flex items-center justify-center text-white p-4\">\n          <div className=\"max-w-lg w-full bg-gray-800 rounded-lg p-8 shadow-xl\">\n            <h1 className=\"text-3xl font-bold mb-4 text-orange-500\">\n              <i className=\"fas fa-exclamation-triangle mr-2\"></i>\n              Something went wrong\n            </h1>\n            <p className=\"mb-4\">We're sorry - something's gone wrong with the Dancing Dragons app.</p>\n            <div className=\"bg-gray-900 p-4 rounded mb-4 overflow-auto max-h-48\">\n              <p className=\"text-sm text-orange-300 font-mono\">\n                {this.state.error && this.state.error.toString()}\n              </p>\n            </div>\n            <button \n              onClick={() => window.location.reload()}\n              className=\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full transition-all\"\n            >\n              Reload Page\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// Performance monitoring\nconst reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\n// Initialize the app\nconst container = document.getElementById('root');\nconst root = ReactDOM.createRoot(container);\n\n// Strict mode helps with development-only checks\nroot.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <AppProvider>\n        <App />\n      </AppProvider>\n    </ErrorBoundary>\n  </React.StrictMode>\n);\n\n// Monitor performance if enabled in environment settings\nif (process.env.REACT_APP_PERFORMANCE_MONITORING === 'true') {\n  reportWebVitals(console.log);\n}\n\n// Handle unhandled promise rejections globally\nwindow.addEventListener('unhandledrejection', (event) => {\n  console.error('Unhandled Promise Rejection:', event.reason);\n});\n\n// Remove loading indicator once app is rendered\nconst loadingElement = document.querySelector('.loading');\nif (loadingElement) {\n  // Fade out and remove\n  loadingElement.style.transition = 'opacity 0.5s ease';\n  loadingElement.style.opacity = '0';\n  setTimeout(() => {\n    loadingElement.remove();\n  }, 500);\n}\n\n// Register service worker for PWA support in production\nif (process.env.NODE_ENV === 'production' && process.env.REACT_APP_ENABLE_PWA === 'true') {\n  if ('serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      navigator.serviceWorker.register('/dancingdragons/service-worker.js')\n        .then(registration => {\n          console.log('ServiceWorker registered successfully:', registration.scope);\n        })\n        .catch(error => {\n          console.error('ServiceWorker registration failed:', error);\n        });\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}