{"ast":null,"code":"// src/components/video-library/VideoLibrary.js\nimport React,{useState,useEffect}from'react';import{VIDEO_CONTENT,CATEGORIES}from'../../utils/video/videoConfig';import{decryptStorageKey,validateAccessKey}from'../../utils/video/encryption';import{VideoCard}from'./VideoCard';import{AccessControl}from'./AccessControl';import{VideoPlayer}from'./VideoPlayer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function VideoLibrary(_ref){let{fullPage=false}=_ref;const[isAccessGranted,setIsAccessGranted]=useState(false);const[selectedCategory,setSelectedCategory]=useState('all');const[selectedVideo,setSelectedVideo]=useState(null);const[searchTerm,setSearchTerm]=useState('');useEffect(()=>{// Check for existing access\nconst encryptedKey=localStorage.getItem('dd_access');if(encryptedKey){const key=decryptStorageKey(encryptedKey);if(key&&validateAccessKey(key)){setIsAccessGranted(true);}}},[]);const filteredVideos=VIDEO_CONTENT.filter(video=>{const matchesCategory=selectedCategory==='all'||video.category===selectedCategory;const matchesSearch=video.title.toLowerCase().includes(searchTerm.toLowerCase())||video.description.toLowerCase().includes(searchTerm.toLowerCase());return matchesCategory&&matchesSearch;});if(!isAccessGranted){return/*#__PURE__*/_jsx(\"section\",{className:\"py-24 bg-gray-900 text-white px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-16\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl md:text-5xl font-bold mb-6 text-orange-300\",children:\"Private Video Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-300 max-w-2xl mx-auto\",children:\"Access our curated collection of movement practices, meditation guides, and ancient wisdom.\"})]}),/*#__PURE__*/_jsx(AccessControl,{onAccess:setIsAccessGranted})]})});}return/*#__PURE__*/_jsxs(\"section\",{className:`${fullPage?'py-32':'py-24'} bg-gray-900 text-white px-4`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-16\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl md:text-5xl font-bold mb-6 text-orange-300\",children:\"Video Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-300 max-w-2xl mx-auto mb-12\",children:\"Explore our collection of practices, guides, and wisdom teachings.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4 items-center justify-center mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search videos...\",className:\"px-4 py-2 bg-gray-800 rounded-lg text-white placeholder-gray-400  focus:outline-none focus:ring-2 focus:ring-orange-500 w-64\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search absolute right-3 top-3 text-gray-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 flex-wrap justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory('all'),className:`px-4 py-2 rounded-lg transition-colors ${selectedCategory==='all'?'bg-orange-500 text-white':'bg-gray-800 text-gray-300 hover:bg-gray-700'}`,children:\"All\"}),CATEGORIES.map(category=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedCategory(category),className:`px-4 py-2 rounded-lg transition-colors ${selectedCategory===category?'bg-orange-500 text-white':'bg-gray-800 text-gray-300 hover:bg-gray-700'}`,children:category},category))]})]}),selectedCategory==='all'&&searchTerm===''&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-16\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mb-8 text-left text-orange-300\",children:\"Featured Videos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\",children:VIDEO_CONTENT.filter(v=>v.featured).map(video=>/*#__PURE__*/_jsx(VideoCard,{video:video,onPlay:setSelectedVideo},video.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredVideos.map(video=>/*#__PURE__*/_jsx(VideoCard,{video:video,onPlay:setSelectedVideo},video.id))}),filteredVideos.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-400 py-12\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search text-4xl mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No videos found matching your search criteria.\"})]})]})}),selectedVideo&&/*#__PURE__*/_jsx(VideoPlayer,{video:selectedVideo,onClose:()=>setSelectedVideo(null)})]});}","map":{"version":3,"names":["React","useState","useEffect","VIDEO_CONTENT","CATEGORIES","decryptStorageKey","validateAccessKey","VideoCard","AccessControl","VideoPlayer","jsx","_jsx","jsxs","_jsxs","VideoLibrary","_ref","fullPage","isAccessGranted","setIsAccessGranted","selectedCategory","setSelectedCategory","selectedVideo","setSelectedVideo","searchTerm","setSearchTerm","encryptedKey","localStorage","getItem","key","filteredVideos","filter","video","matchesCategory","category","matchesSearch","title","toLowerCase","includes","description","className","children","onAccess","type","value","onChange","e","target","placeholder","onClick","map","v","featured","onPlay","id","length","onClose"],"sources":["/home/elysia/dancingdragons/src/components/video-library/VideoLibrary.js"],"sourcesContent":["// src/components/video-library/VideoLibrary.js\n\nimport React, { useState, useEffect } from 'react';\nimport { VIDEO_CONTENT, CATEGORIES } from '../../utils/video/videoConfig';\nimport { decryptStorageKey, validateAccessKey } from '../../utils/video/encryption';\nimport { VideoCard } from './VideoCard';\nimport { AccessControl } from './AccessControl';\nimport { VideoPlayer } from './VideoPlayer';\n\nexport function VideoLibrary({ fullPage = false }) {\n  const [isAccessGranted, setIsAccessGranted] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    // Check for existing access\n    const encryptedKey = localStorage.getItem('dd_access');\n    if (encryptedKey) {\n      const key = decryptStorageKey(encryptedKey);\n      if (key && validateAccessKey(key)) {\n        setIsAccessGranted(true);\n      }\n    }\n  }, []);\n\n  const filteredVideos = VIDEO_CONTENT.filter(video => {\n    const matchesCategory = selectedCategory === 'all' || video.category === selectedCategory;\n    const matchesSearch = video.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         video.description.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesCategory && matchesSearch;\n  });\n\n  if (!isAccessGranted) {\n    return (\n      <section className=\"py-24 bg-gray-900 text-white px-4\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-4xl md:text-5xl font-bold mb-6 text-orange-300\">\n              Private Video Library\n            </h2>\n            <p className=\"text-xl text-gray-300 max-w-2xl mx-auto\">\n              Access our curated collection of movement practices, meditation guides,\n              and ancient wisdom.\n            </p>\n          </div>\n          <AccessControl onAccess={setIsAccessGranted} />\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className={`${fullPage ? 'py-32' : 'py-24'} bg-gray-900 text-white px-4`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"text-center mb-16\">\n          <h2 className=\"text-4xl md:text-5xl font-bold mb-6 text-orange-300\">\n            Video Library\n          </h2>\n          <p className=\"text-xl text-gray-300 max-w-2xl mx-auto mb-12\">\n            Explore our collection of practices, guides, and wisdom teachings.\n          </p>\n\n          {/* Search and Filter */}\n          <div className=\"flex flex-col md:flex-row gap-4 items-center justify-center mb-12\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Search videos...\"\n                className=\"px-4 py-2 bg-gray-800 rounded-lg text-white placeholder-gray-400 \n                         focus:outline-none focus:ring-2 focus:ring-orange-500 w-64\"\n              />\n              <i className=\"fas fa-search absolute right-3 top-3 text-gray-400\"></i>\n            </div>\n            \n            <div className=\"flex gap-2 flex-wrap justify-center\">\n              <button\n                onClick={() => setSelectedCategory('all')}\n                className={`px-4 py-2 rounded-lg transition-colors ${\n                  selectedCategory === 'all'\n                    ? 'bg-orange-500 text-white'\n                    : 'bg-gray-800 text-gray-300 hover:bg-gray-700'\n                }`}\n              >\n                All\n              </button>\n              {CATEGORIES.map(category => (\n                <button\n                  key={category}\n                  onClick={() => setSelectedCategory(category)}\n                  className={`px-4 py-2 rounded-lg transition-colors ${\n                    selectedCategory === category\n                      ? 'bg-orange-500 text-white'\n                      : 'bg-gray-800 text-gray-300 hover:bg-gray-700'\n                  }`}\n                >\n                  {category}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Featured Videos Section */}\n          {selectedCategory === 'all' && searchTerm === '' && (\n            <div className=\"mb-16\">\n              <h3 className=\"text-2xl font-bold mb-8 text-left text-orange-300\">\n                Featured Videos\n              </h3>\n              <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {VIDEO_CONTENT.filter(v => v.featured).map(video => (\n                  <VideoCard\n                    key={video.id}\n                    video={video}\n                    onPlay={setSelectedVideo}\n                  />\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* All Videos Grid */}\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {filteredVideos.map(video => (\n              <VideoCard\n                key={video.id}\n                video={video}\n                onPlay={setSelectedVideo}\n              />\n            ))}\n          </div>\n\n          {filteredVideos.length === 0 && (\n            <div className=\"text-center text-gray-400 py-12\">\n              <i className=\"fas fa-search text-4xl mb-4\"></i>\n              <p>No videos found matching your search criteria.</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Video Player Modal */}\n      {selectedVideo && (\n        <VideoPlayer\n          video={selectedVideo}\n          onClose={() => setSelectedVideo(null)}\n        />\n      )}\n    </section>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}