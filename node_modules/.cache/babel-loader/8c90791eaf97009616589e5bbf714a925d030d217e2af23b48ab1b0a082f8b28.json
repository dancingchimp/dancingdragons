{"ast":null,"code":"// src/components/events/RSVPModal.js\nimport React,{useState}from'react';import{Modal}from'../system/Modal';import{Card,CardContent}from'../ui/Card';import{generateTemporaryToken}from'../../utils/crypto';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RSVPForm(_ref){let{event,onSubmit}=_ref;const[formData,setFormData]=useState({token:generateTemporaryToken(),// Generate anonymous participant token\nrequirements:false,notes:''});const handleSubmit=e=>{e.preventDefault();onSubmit(formData);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-3 rounded-lg text-orange-500\",children:/*#__PURE__*/_jsx(\"i\",{className:`fas ${event.type==='adventure'?'fa-mountain':event.type==='movement'?'fa-music':'fa-om'} text-xl`})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-white\",children:event.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[new Date(event.date).toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'}),\" at \",event.time]}),event.spotsLeft>0?/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-500 mt-1\",children:[event.spotsLeft,\" spots remaining\"]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-500 mt-1\",children:\"Waitlist available\"})]})]})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[event.requirements&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-white\",children:\"Requirements\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:event.requirements}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",required:true,checked:formData.requirements,onChange:e=>setFormData({...formData,requirements:e.target.checked}),className:\"mt-1 rounded border-gray-700 bg-gray-800 text-orange-500  focus:ring-orange-500 focus:ring-offset-gray-900\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:\"I confirm that I meet all the requirements for this event\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"block\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300 text-sm\",children:\"Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData({...formData,notes:e.target.value}),className:\"mt-1 w-full px-4 py-2 bg-gray-800 rounded-lg text-white  placeholder-gray-400 border border-gray-700  focus:outline-none focus:border-orange-500\",rows:\"3\",placeholder:\"Any additional information you'd like to share\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt\"}),\"Your privacy is protected:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mt-2 space-y-1 pl-6 list-disc\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"No personal information is stored\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Anonymous participation token provided\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Event details shared via Signal\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Automatic data deletion after event\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 justify-end pt-4\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg  transition-colors flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\"}),event.spotsLeft>0?'Confirm RSVP':'Join Waitlist']})})]})]});}export function RSVPModal(_ref2){let{isOpen,onClose,event,onRSVP}=_ref2;const handleSubmit=formData=>{onRSVP({eventId:event.id,...formData,timestamp:new Date().toISOString(),status:event.spotsLeft>0?'confirmed':'waitlist'});onClose();};return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onClose:onClose,title:event.spotsLeft>0?'RSVP to Event':'Join Event Waitlist',size:\"md\",children:/*#__PURE__*/_jsx(RSVPForm,{event:event,onSubmit:handleSubmit})});}export default RSVPModal;","map":{"version":3,"names":["React","useState","Modal","Card","CardContent","generateTemporaryToken","jsx","_jsx","jsxs","_jsxs","RSVPForm","_ref","event","onSubmit","formData","setFormData","token","requirements","notes","handleSubmit","e","preventDefault","className","children","type","title","Date","date","toLocaleDateString","weekday","month","day","time","spotsLeft","required","checked","onChange","target","value","rows","placeholder","RSVPModal","_ref2","isOpen","onClose","onRSVP","eventId","id","timestamp","toISOString","status","size"],"sources":["/home/elysia/dancingdragons/src/components/events/RSVPModal.js"],"sourcesContent":["// src/components/events/RSVPModal.js\nimport React, { useState } from 'react';\nimport { Modal } from '../system/Modal';\nimport { Card, CardContent } from '../ui/Card';\nimport { generateTemporaryToken } from '../../utils/crypto';\n\nfunction RSVPForm({ event, onSubmit }) {\n  const [formData, setFormData] = useState({\n    token: generateTemporaryToken(), // Generate anonymous participant token\n    requirements: false,\n    notes: ''\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Event Summary */}\n      <Card>\n        <CardContent>\n          <div className=\"flex items-start gap-4\">\n            <div className=\"bg-gray-800 p-3 rounded-lg text-orange-500\">\n              <i className={`fas ${\n                event.type === 'adventure' ? 'fa-mountain' :\n                event.type === 'movement' ? 'fa-music' : 'fa-om'\n              } text-xl`}></i>\n            </div>\n            <div>\n              <h3 className=\"font-semibold text-white\">{event.title}</h3>\n              <p className=\"text-sm text-gray-400\">\n                {new Date(event.date).toLocaleDateString('en-US', {\n                  weekday: 'long',\n                  month: 'long',\n                  day: 'numeric'\n                })} at {event.time}\n              </p>\n              {event.spotsLeft > 0 ? (\n                <p className=\"text-sm text-green-500 mt-1\">\n                  {event.spotsLeft} spots remaining\n                </p>\n              ) : (\n                <p className=\"text-sm text-yellow-500 mt-1\">\n                  Waitlist available\n                </p>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Requirements Confirmation */}\n        {event.requirements && (\n          <div className=\"space-y-2\">\n            <h4 className=\"font-medium text-white\">Requirements</h4>\n            <p className=\"text-sm text-gray-400\">{event.requirements}</p>\n            <label className=\"flex items-start gap-2 mt-2\">\n              <input\n                type=\"checkbox\"\n                required\n                checked={formData.requirements}\n                onChange={(e) => setFormData({ ...formData, requirements: e.target.checked })}\n                className=\"mt-1 rounded border-gray-700 bg-gray-800 text-orange-500 \n                         focus:ring-orange-500 focus:ring-offset-gray-900\"\n              />\n              <span className=\"text-sm text-gray-300\">\n                I confirm that I meet all the requirements for this event\n              </span>\n            </label>\n          </div>\n        )}\n\n        {/* Notes */}\n        <div className=\"space-y-2\">\n          <label className=\"block\">\n            <span className=\"text-gray-300 text-sm\">Notes (optional)</span>\n            <textarea\n              value={formData.notes}\n              onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\n              className=\"mt-1 w-full px-4 py-2 bg-gray-800 rounded-lg text-white \n                       placeholder-gray-400 border border-gray-700 \n                       focus:outline-none focus:border-orange-500\"\n              rows=\"3\"\n              placeholder=\"Any additional information you'd like to share\"\n            />\n          </label>\n        </div>\n\n        {/* Privacy Notice */}\n        <div className=\"text-sm text-gray-400\">\n          <p className=\"flex items-center gap-2\">\n            <i className=\"fas fa-shield-alt\"></i>\n            Your privacy is protected:\n          </p>\n          <ul className=\"mt-2 space-y-1 pl-6 list-disc\">\n            <li>No personal information is stored</li>\n            <li>Anonymous participation token provided</li>\n            <li>Event details shared via Signal</li>\n            <li>Automatic data deletion after event</li>\n          </ul>\n        </div>\n\n        {/* Submit Buttons */}\n        <div className=\"flex gap-4 justify-end pt-4\">\n          <button\n            type=\"submit\"\n            className=\"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg \n                     transition-colors flex items-center gap-2\"\n          >\n            <i className=\"fas fa-check\"></i>\n            {event.spotsLeft > 0 ? 'Confirm RSVP' : 'Join Waitlist'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport function RSVPModal({ isOpen, onClose, event, onRSVP }) {\n  const handleSubmit = (formData) => {\n    onRSVP({\n      eventId: event.id,\n      ...formData,\n      timestamp: new Date().toISOString(),\n      status: event.spotsLeft > 0 ? 'confirmed' : 'waitlist'\n    });\n    onClose();\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={event.spotsLeft > 0 ? 'RSVP to Event' : 'Join Event Waitlist'}\n      size=\"md\"\n    >\n      <RSVPForm event={event} onSubmit={handleSubmit} />\n    </Modal>\n  );\n}\n\nexport default RSVPModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}