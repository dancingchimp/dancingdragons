{"ast":null,"code":"// File: src/components/Navigation/EventsDropdown.js\nimport React,{useState}from'react';import{useClickOutside}from'../../hooks/useUtils';import{CreateEventModal}from'../events/CreateEventModal';import EventDetailsModal from'../events/EventDetails';import{AREA_DEFINITIONS}from'../events/LocationSystem';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DEMO_EVENTS=[{id:'e1',title:'Weekend Mountain Retreat',date:'2025-03-01',time:'09:00',duration:480,// 8 hours\ntype:'adventure',capacity:12,spotsLeft:3,status:'open',areaCode:'north_cascades',description:'A challenging day hike through beautiful alpine terrain. Experience required.',requirements:'Hiking boots required\\nWater (3L minimum)\\nSnacks and lunch\\nLayered clothing\\nFirst aid kit',weatherAdvisory:'Morning fog expected. Prepare for varying conditions.',isPrivate:true},{id:'e2',title:'Movement Workshop',date:'2025-02-28',time:'18:30',duration:90,type:'movement',capacity:20,spotsLeft:8,status:'open',areaCode:'downtown_area',description:'Explore fluid movement patterns and dance expression in this guided workshop.',requirements:'Comfortable clothing\\nWater bottle\\nYoga mat',isPrivate:true},{id:'e3',title:'Sunrise Meditation',date:'2025-02-27',time:'07:00',duration:60,type:'inner-work',capacity:15,spotsLeft:0,status:'waitlist',areaCode:'waterfront_park',description:'Start your day with guided meditation by the water.',requirements:'Meditation cushion or mat\\nWarm layers\\nWater bottle',isPrivate:true,waitlist:['token1','token2']// Anonymous waitlist tokens\n}];function EventCard(_ref){let{event,onClick}=_ref;const getEventIcon=type=>{const icons={'adventure':'fa-mountain','movement':'fa-music','inner-work':'fa-om'};return icons[type]||'fa-calendar';};const area=AREA_DEFINITIONS[event.areaCode];return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 hover:bg-gray-800/50 rounded-lg transition-colors cursor-pointer\",onClick:()=>onClick(event),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800/80 p-3 rounded-lg text-orange-500\",children:/*#__PURE__*/_jsx(\"i\",{className:`fas ${getEventIcon(event.type)} text-xl`})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-white\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400 mt-1\",children:[new Date(event.date).toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'}),\" at \",event.time]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mt-1\",children:area===null||area===void 0?void 0:area.name})]}),/*#__PURE__*/_jsx(\"div\",{className:`text-sm font-medium ${event.status==='waitlist'?'text-yellow-500':event.spotsLeft<=3?'text-orange-500':'text-green-500'}`,children:event.status==='waitlist'?'Waitlist':event.spotsLeft===0?'Full':`${event.spotsLeft} spots left`})]})})]})});}function EventsDropdown(_ref2){let{onClose}=_ref2;const dropdownRef=React.useRef(null);const[showCreateModal,setShowCreateModal]=useState(false);const[selectedEvent,setSelectedEvent]=useState(null);useClickOutside(dropdownRef,onClose);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,className:\"absolute top-full right-0 mt-2 w-96 bg-gray-900/95 backdrop-blur-lg rounded-xl  shadow-xl border border-gray-700 overflow-hidden transform origin-top-right  transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-orange-300\",children:\"Upcoming Events\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{/* Navigate to events page */},className:\"text-sm text-orange-500 hover:text-orange-400 transition-colors\",children:\"View All\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-[calc(100vh-200px)] overflow-y-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-700\",children:DEMO_EVENTS.map(event=>/*#__PURE__*/_jsx(EventCard,{event:event,onClick:event=>setSelectedEvent(event)},event.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-700 bg-gray-800/50\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-2  rounded-lg transition-colors flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\"Create Event\"]})})]}),/*#__PURE__*/_jsx(CreateEventModal,{isOpen:showCreateModal,onClose:()=>setShowCreateModal(false),onCreateEvent:eventData=>{console.log('New event:',eventData);setShowCreateModal(false);}}),selectedEvent&&/*#__PURE__*/_jsx(EventDetailsModal,{isOpen:true,onClose:()=>setSelectedEvent(null),event:selectedEvent})]});}export default EventsDropdown;","map":{"version":3,"names":["React","useState","useClickOutside","CreateEventModal","EventDetailsModal","AREA_DEFINITIONS","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DEMO_EVENTS","id","title","date","time","duration","type","capacity","spotsLeft","status","areaCode","description","requirements","weatherAdvisory","isPrivate","waitlist","EventCard","_ref","event","onClick","getEventIcon","icons","area","className","children","Date","toLocaleDateString","weekday","month","day","name","EventsDropdown","_ref2","onClose","dropdownRef","useRef","showCreateModal","setShowCreateModal","selectedEvent","setSelectedEvent","ref","map","isOpen","onCreateEvent","eventData","console","log"],"sources":["/home/elysia/dancingdragons/src/components/Navigation/EventsDropdown.js"],"sourcesContent":["// File: src/components/Navigation/EventsDropdown.js\n\nimport React, { useState } from 'react';\nimport { useClickOutside } from '../../hooks/useUtils';\nimport { CreateEventModal } from '../events/CreateEventModal';\nimport EventDetailsModal from '../events/EventDetails';\nimport { AREA_DEFINITIONS } from '../events/LocationSystem';\n\nconst DEMO_EVENTS = [\n  {\n    id: 'e1',\n    title: 'Weekend Mountain Retreat',\n    date: '2025-03-01',\n    time: '09:00',\n    duration: 480, // 8 hours\n    type: 'adventure',\n    capacity: 12,\n    spotsLeft: 3,\n    status: 'open',\n    areaCode: 'north_cascades',\n    description: 'A challenging day hike through beautiful alpine terrain. Experience required.',\n    requirements: 'Hiking boots required\\nWater (3L minimum)\\nSnacks and lunch\\nLayered clothing\\nFirst aid kit',\n    weatherAdvisory: 'Morning fog expected. Prepare for varying conditions.',\n    isPrivate: true\n  },\n  {\n    id: 'e2',\n    title: 'Movement Workshop',\n    date: '2025-02-28',\n    time: '18:30',\n    duration: 90,\n    type: 'movement',\n    capacity: 20,\n    spotsLeft: 8,\n    status: 'open',\n    areaCode: 'downtown_area',\n    description: 'Explore fluid movement patterns and dance expression in this guided workshop.',\n    requirements: 'Comfortable clothing\\nWater bottle\\nYoga mat',\n    isPrivate: true\n  },\n  {\n    id: 'e3',\n    title: 'Sunrise Meditation',\n    date: '2025-02-27',\n    time: '07:00',\n    duration: 60,\n    type: 'inner-work',\n    capacity: 15,\n    spotsLeft: 0,\n    status: 'waitlist',\n    areaCode: 'waterfront_park',\n    description: 'Start your day with guided meditation by the water.',\n    requirements: 'Meditation cushion or mat\\nWarm layers\\nWater bottle',\n    isPrivate: true,\n    waitlist: ['token1', 'token2'] // Anonymous waitlist tokens\n  }\n];\n\nfunction EventCard({ event, onClick }) {\n  const getEventIcon = (type) => {\n    const icons = {\n      'adventure': 'fa-mountain',\n      'movement': 'fa-music',\n      'inner-work': 'fa-om'\n    };\n    return icons[type] || 'fa-calendar';\n  };\n\n  const area = AREA_DEFINITIONS[event.areaCode];\n\n  return (\n    <div \n      className=\"p-4 hover:bg-gray-800/50 rounded-lg transition-colors cursor-pointer\"\n      onClick={() => onClick(event)}\n    >\n      <div className=\"flex items-start gap-4\">\n        <div className=\"bg-gray-800/80 p-3 rounded-lg text-orange-500\">\n          <i className={`fas ${getEventIcon(event.type)} text-xl`}></i>\n        </div>\n        <div className=\"flex-1\">\n          <div className=\"flex items-start justify-between gap-4\">\n            <div>\n              <h4 className=\"font-semibold text-white\">{event.title}</h4>\n              <div className=\"text-sm text-gray-400 mt-1\">\n                {new Date(event.date).toLocaleDateString('en-US', { \n                  weekday: 'short',\n                  month: 'short',\n                  day: 'numeric'\n                })} at {event.time}\n              </div>\n              <div className=\"text-sm text-gray-500 mt-1\">\n                {area?.name}\n              </div>\n            </div>\n            <div className={`text-sm font-medium ${\n              event.status === 'waitlist' ? 'text-yellow-500' :\n              event.spotsLeft <= 3 ? 'text-orange-500' : 'text-green-500'\n            }`}>\n              {event.status === 'waitlist' ? 'Waitlist' :\n               event.spotsLeft === 0 ? 'Full' :\n               `${event.spotsLeft} spots left`}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction EventsDropdown({ onClose }) {\n  const dropdownRef = React.useRef(null);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  \n  useClickOutside(dropdownRef, onClose);\n\n  return (\n    <>\n      <div \n        ref={dropdownRef}\n        className=\"absolute top-full right-0 mt-2 w-96 bg-gray-900/95 backdrop-blur-lg rounded-xl \n                   shadow-xl border border-gray-700 overflow-hidden transform origin-top-right \n                   transition-all duration-200\"\n      >\n        <div className=\"p-4 border-b border-gray-700\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-orange-300\">Upcoming Events</h3>\n            <button \n              onClick={() => {/* Navigate to events page */}}\n              className=\"text-sm text-orange-500 hover:text-orange-400 transition-colors\"\n            >\n              View All\n            </button>\n          </div>\n        </div>\n\n        <div className=\"max-h-[calc(100vh-200px)] overflow-y-auto\">\n          <div className=\"divide-y divide-gray-700\">\n            {DEMO_EVENTS.map(event => (\n              <EventCard \n                key={event.id} \n                event={event}\n                onClick={(event) => setSelectedEvent(event)}\n              />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t border-gray-700 bg-gray-800/50\">\n          <button \n            onClick={() => setShowCreateModal(true)}\n            className=\"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 \n                     rounded-lg transition-colors flex items-center justify-center gap-2\"\n          >\n            <i className=\"fas fa-plus\"></i>\n            Create Event\n          </button>\n        </div>\n      </div>\n\n      {/* Modals */}\n      <CreateEventModal\n        isOpen={showCreateModal}\n        onClose={() => setShowCreateModal(false)}\n        onCreateEvent={(eventData) => {\n          console.log('New event:', eventData);\n          setShowCreateModal(false);\n        }}\n      />\n\n      {selectedEvent && (\n        <EventDetailsModal\n          isOpen={true}\n          onClose={() => setSelectedEvent(null)}\n          event={selectedEvent}\n        />\n      )}\n    </>\n  );\n}\n\nexport default EventsDropdown;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}